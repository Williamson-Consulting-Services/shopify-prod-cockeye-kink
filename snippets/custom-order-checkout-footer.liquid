{%- liquid
  assign custom_item_count = 0
  for item in cart.items
    if item.properties
      assign custom_flag = item.properties['_custom'] | default: item.properties['Order Type']
      if custom_flag
        assign custom_flag_lower = custom_flag | downcase
        if custom_flag_lower == 'custom'
          assign custom_item_count = custom_item_count | plus: 1
        endif
      endif
    endif
  endfor

  assign footer_status_prefix = 'custom_order.checkout_footer.status_prefix' | t
  assign footer_item_count_text = 'custom_order.checkout_footer.item_count' | t
  assign footer_button_text = 'custom_order.checkout_footer.button_text' | t
-%}

{% if custom_item_count > 0 %}
  <div class="custom-order-checkout-footer" data-custom-item-count="{{ custom_item_count }}" hidden>
    <div class="checkout-footer__content">
      <span class="checkout-footer__status">
        <span class="checkout-footer__icon">âœ…</span>
        <strong>{{ footer_status_prefix }}</strong>
        <span class="checkout-footer__message">You have <span class="checkout-footer__count">{{ custom_item_count }}</span> custom item(s) saved in the cart.</span>
      </span>
      <a href="/checkout" class="button button--primary checkout-footer__button">
        {{ footer_button_text }}
      </a>
    </div>
  </div>
{% endif %}

{{ 'component-custom-order-checkout-footer.css' | asset_url | stylesheet_tag }}
<script src="{{ 'custom-order-checkout-footer.js' | asset_url }}" defer></script>

