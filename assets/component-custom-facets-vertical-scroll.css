/* Custom Vertical Facets Scroll Component */
/* Implements sticky scroll behavior for vertical filters */

@media screen and (min-width: 990px) {
  /* Container for vertical facets - ensure it stays in viewport */
  .facets-container:has(.facets__form-vertical) {
    position: relative;
  }

  /* Form container - sticky positioning with independent scroll */
  .facets__form-vertical {
    position: sticky !important;
    top: 0 !important;
    align-self: flex-start;
    max-height: calc(100vh - 2rem);
    overflow-y: auto;
    overflow-x: hidden;
    /* Smooth scrolling */
    scroll-behavior: smooth;
    /* Custom scrollbar styling */
    scrollbar-width: thin;
    scrollbar-color: rgba(var(--color-foreground), 0.2) transparent;
    /* Ensure proper z-index */
    z-index: 1;
    /* Ensure it stays within viewport */
    will-change: scroll-position;
  }

  /* Ensure parent containers don't interfere with sticky positioning */
  facet-filters-form.facets {
    position: relative;
  }

  #FacetsWrapperDesktop {
    position: relative;
  }

  /* Webkit scrollbar styling */
  .facets__form-vertical::-webkit-scrollbar {
    width: 0.6rem;
  }

  .facets__form-vertical::-webkit-scrollbar-track {
    background: transparent;
  }

  .facets__form-vertical::-webkit-scrollbar-thumb {
    background-color: rgba(var(--color-foreground), 0.2);
    border-radius: 0.3rem;
    border: none;
  }

  .facets__form-vertical::-webkit-scrollbar-thumb:hover {
    background-color: rgba(var(--color-foreground), 0.3);
  }

  /* Ensure proper spacing at top and bottom */
  .facets__form-vertical::before {
    content: '';
    display: block;
    height: 1rem;
    flex-shrink: 0;
  }

  .facets__form-vertical::after {
    content: '';
    display: block;
    height: 1rem;
    flex-shrink: 0;
  }

  /* Prevent horizontal overflow */
  .facets__form-vertical * {
    max-width: 100%;
  }
}
